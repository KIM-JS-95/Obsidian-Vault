# [DataBase Index]


## 인덱스 정의

데이터베이스에서 "인덱스"는 특정 열 또는 속성에 대한 검색 속도를 향상시키기 위해 생성된 [자료구조](/TIL/ETC/자료구조.md)를 의미한다. 

데이터를 검색할때 발생되는 자원 소모는DB에 저장되어 있는 데이터량에 비례한다
 
자주 사용되는 'SEELCT * FROM <user_table>'의 경우 
제약조건의 없다면**Full Scannig Data** 방식으로 데이터를 조회하기 때문이다.

해당 문제를 해결하기 위해 MySQL에서는 `인덱스 테이블` 생성을 통한 검색 매커니즘을 제공한다.
 
> 인덱스[INDEX]:
> 데이터 검색시 발생하는 **불필요한 자원 소모를 회피** 하고 테이블의 검색 성능향상 자료구조 메커니즘

인덱스는 크게 `클러스터 인덱스`와 `보조 인덱스` 로구분할 수 있지만
좀더 세부적으로 Primary / Unique / Non-cluster 등이 있다.

### 클러스터 인덱스
`클러스터 인덱스`는 단일 테이블당 하나만 생성할 수 있는 특수한 인덱스이다.

클러스터 인덱스는 하나의 속성을 기준으로 `정렬(SORT)` 옵션이 포함되는 인덱스인데 이는
우리가 키를 생성하면 기본으로 지정해야하는 `PRIMARY KEY`와도 같다.  

** 때문에 MySql에서 PK가 지정된 테이블 생성과 동시에 클러스터 인덱스를 생성할 수 없다. **

### 보조 인덱스
보조 인덱스는 클러스터와 달리 정렬의 특성이 없어 하나의 테이블에 ** 여러개** 를 생성할 수 있다.


```mysql
CREATE TABLE 예제테이블 (
    id INT PRIMARY KEY,
    이름 VARCHAR(50),
    나이 INT,
    INDEX 이름인덱스 (이름)
);

```

두 인덱스 모두 데이터의 검색 속도 향상을 목적으로 존재하는 메커니즘 이지만

클러스터 인덱스는 PK를 기준으로 정렬을 통한 빠른 검색을 목적으로 하며 
보조 인덱스는 사용자가 특정하는 키워드 검색을 목적으로 하고 있음을 인지하고 있어야한다.

## 동작

인덱스를 통해 데이터 검색이 빨라질수 있는 이유는 

DB에 설정되어 있는 데이터 크기[^1]만큼 데이터를 `페이징`으로 나누고 [B-Tree](./B-Tree)방식으로 
데이터를 검색하여 동작하기 때문이다.


### 장점 과 단점
인덱스를 이용한 데이터 방색 방식이 항상 답은아니다.

## 클러스터 인덱스 vs 기본(Primary) 인덱스


## 기본적을 지정되는 클러스터 인덱스 / Unique 인덱스


## DML 에 따른 Index 성능


# Annotation

[^1]: Mysql의 경우 단위 페이징의 크기는 16Kbyte이다.

[^2]: Mysql환경에서 데이터 검색시 스캔 데이터가  전체 데이터의 15%이상일 경유 시스템은 작동으로 'Full Scanning' 방식으로 변경된다.

[^3]: 인덱스 성능은 Cordinality가 높은수록(원소의 중복 데이터가 적을 수록) 좋다.

[^4]:

# Reference

